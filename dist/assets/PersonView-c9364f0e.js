import{i as nt,a as st,S as at,H as it,v as _,s as rt,c as ot,m as lt,b as ct,d as ut,e as mt,r as ft,f as O,g as dt,h as gt,p as ht,j as pt,k as U,l as vt,u as R,n as yt,R as S,o as i,q as C,t as M,w as xt,x as wt,y as At,z as H,N as jt,M as bt,A as Et,B as Nt,C as St,D as Dt}from"./index-92835960.js";import{u as kt,_ as Mt,B as Ct}from"./ContentItemView.styled-e49dd5a5.js";function J(t,e,n){var a;if(typeof t=="string"){let s=document;e&&(nt(!!e.current),s=e.current),n?((a=n[t])!==null&&a!==void 0||(n[t]=s.querySelectorAll(t)),t=n[t]):t=s.querySelectorAll(t)}else t instanceof Element&&(t=[t]);return Array.from(t||[])}class Q{constructor(e){this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let a=0;a<this.animations.length;a++)this.animations[a][e]=n}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}stop(){this.runAll("stop")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function Tt(t){return typeof t=="object"&&!Array.isArray(t)}function _t(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=st(t)?new at(e,{enableHardwareAcceleration:!1}):new it(e,{enableHardwareAcceleration:!0});n.mount(t),_.set(t,n)}function Vt(t,e=100){const n=rt({keyframes:[0,e],...t}),a=Math.min(ot(n),lt);return{type:"keyframes",ease:s=>n.next(a*s).value/e,duration:ct(a)}}function $(t,e,n,a){var s;return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:(s=a.get(e))!==null&&s!==void 0?s:t}const It=(t,e,n)=>{const a=e-t;return((n-t)%a+a)%a+t};function Bt(t,e){return ut(t)?t[It(0,t.length,e)]:t}function Lt(t,e,n){for(let a=0;a<t.length;a++){const s=t[a];s.at>e&&s.at<n&&(ft(t,s),a--)}}function Pt(t,e,n,a,s,r){Lt(t,s,r);for(let o=0;o<e.length;o++)t.push({value:e[o],at:mt(s,r,a[o]),easing:Bt(n,o)})}function Gt(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Kt="easeInOut";function Wt(t,{defaultTransition:e={},...n}={},a){const s=e.duration||.3,r=new Map,o=new Map,d={},m=new Map;let g=0,l=0,x=0;for(let v=0;v<t.length;v++){const h=t[v];if(typeof h=="string"){m.set(h,l);continue}else if(!Array.isArray(h)){m.set(h.name,$(l,h.at,g,m));continue}let[c,f,u={}]=h;u.at!==void 0&&(l=$(l,u.at,g,m));let y=0;const E=(w,A,b,D=0,k=0)=>{const p=Ft(w),{delay:T=0,times:N=dt(p),type:Z="keyframes",...tt}=A;let{ease:V=e.ease||"easeOut",duration:j}=A;const I=typeof T=="function"?T(D,k):T,B=p.length;if(B<=2&&Z==="spring"){let K=100;if(B===2&&$t(p)){const et=p[1]-p[0];K=Math.abs(et)}const W={...tt};j!==void 0&&(W.duration=pt(j));const F=Vt(W,K);V=F.ease,j=F.duration}j??(j=s);const L=l+I,P=L+j;N.length===1&&N[0]===0&&(N[1]=1);const G=N.length-p.length;G>0&&gt(N,G),p.length===1&&p.unshift(null),Pt(b,p,V,N,L,P),y=Math.max(I+j,y),x=Math.max(P,x)};if(O(c)){const w=z(c,o);E(f,u,q("default",w))}else{const w=J(c,a,d),A=w.length;for(let b=0;b<A;b++){f=f,u=u;const D=w[b],k=z(D,o);for(const p in f)E(f[p],Rt(u,p),q(p,k),b,A)}g=l,l+=y}}return o.forEach((v,h)=>{for(const c in v){const f=v[c];f.sort(Gt);const u=[],y=[],E=[];for(let A=0;A<f.length;A++){const{at:b,value:D,easing:k}=f[A];u.push(D),y.push(ht(0,x,b)),E.push(k||"easeOut")}y[0]!==0&&(y.unshift(0),u.unshift(u[0]),E.unshift(Kt)),y[y.length-1]!==1&&(y.push(1),u.push(null)),r.has(h)||r.set(h,{keyframes:{},transition:{}});const w=r.get(h);w.keyframes[c]=u,w.transition[c]={...e,duration:x,ease:E,times:y,...n}}}),r}function z(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function q(t,e){return e[t]||(e[t]=[]),e[t]}function Ft(t){return Array.isArray(t)?t:[t]}function Rt(t,e){return t[e]?{...t,...t[e]}:{...t}}const Ht=t=>typeof t=="number",$t=t=>t.every(Ht);function Y(t,e,n,a){const s=J(t,a),r=s.length,o=[];for(let d=0;d<r;d++){const m=s[d];_.has(m)||_t(m);const g=_.get(m),l={...n};typeof l.delay=="function"&&(l.delay=l.delay(d,r)),o.push(...vt(g,{...e,transition:l},{}))}return new Q(o)}const zt=t=>Array.isArray(t)&&Array.isArray(t[0]);function qt(t,e,n){const a=[];return Wt(t,e,n).forEach(({keyframes:r,transition:o},d)=>{let m;O(d)?m=U(d,r.default,o.default):m=Y(d,r,o),a.push(m)}),new Q(a)}const Ot=t=>{function e(n,a,s){let r;return zt(n)?r=qt(n,a,t):Tt(a)?r=Y(n,a,s,t):r=U(n,a,s),t&&t.animations.push(r),r}return e};function Ut(){const t=R(()=>({current:null,animations:[]})),e=R(()=>Ot(t));return yt(()=>{t.animations.forEach(n=>n.stop())}),[t,e]}const Jt=S.memo(({backgroundColor:t,index:e,onClick:n})=>i.jsx(C.div,{animate:{backgroundColor:t},className:"block aspect-square w-[3.33vw]  rounded-full ",onClick:M.useCallback(()=>n(e),[])})),Qt=S.memo(({current:t,max:e,onClick:n})=>i.jsx("div",{className:"mx-auto mt-[4.44vw] flex w-fit space-x-[1.11vw] rounded-[4.44vw] bg-white p-[1.11vw]",children:Array(e).fill(null).map((a,s)=>i.jsx(Jt,{index:s,backgroundColor:s===t?"#add8e6":"#d3d3d3",onClick:n},s))}),(t,e)=>t.current===e.current),X=S.memo(({src:t,animate:e})=>i.jsx(C.div,{initial:{scale:.7,opacity:0},animate:e,transition:{type:"spring",damping:100,stiffness:500},className:` relative aspect-[3/4] min-w-[60.55vw] max-w-[60.55vw] select-none overflow-hidden rounded-[3.33vw] ${t?"":"bg-gray-500"} shadow-[0_0_50px_-12px_rgb(0,0,0,0.25)]`,children:t&&i.jsx("div",{className:"h-full w-full",style:{backgroundImage:`url('http://image.tmdb.org/t/p/original${t}')`,backgroundSize:"cover"}})}),(t,e)=>t.animate.scale===e.animate.scale&&t.src===e.src),Yt=S.memo(()=>i.jsx(X,{src:null,animate:{scale:1,opacity:1}})),Xt=({viewport:t,profiles:e})=>{const[n,a]=Ut(),[s,r]=M.useState(0),o=t.clientWidth,d=60.55*o/100;M.useEffect(()=>{n.current&&a(n.current,{x:s*-d},{type:"spring",damping:100,stiffness:500}).then(()=>{}).catch(()=>{})},[s]);const m=M.useCallback((g,l)=>{const x=l.offset.x,v=l.velocity.x,h=x>=o/3||v>=500,c=s-1<0;h&&!c&&r(s-1);const f=x<=-(o/3)||v<=-500,u=s+1>=e.length;f&&!u&&r(s+1)},[s]);return i.jsxs(i.Fragment,{children:[i.jsx(C.div,{drag:"x",dragConstraints:{left:0,right:0},dragElastic:.1,onDragEnd:m,className:"relative w-fit",children:i.jsxs("div",{ref:n,className:"ml-[19.72vw] mt-[28.05vw] flex w-fit whitespace-nowrap ",children:[e.length===0&&i.jsx(Yt,{}),e.map((g,l)=>i.jsx(X,{src:g,animate:{scale:l===s?1:.9,opacity:l===s?1:.5}},l))]})}),i.jsx(Qt,{max:e.length||1,current:s,onClick:M.useCallback(g=>r(g),[])})]})},Zt=S.memo(Xt),te=()=>{const t=xt(),e=kt(),{id:n}=wt(),{isSuccess:a,isLoading:s,data:r}=At(["detail",n],()=>Dt(n));if(s)return i.jsx(C.div,{...H,className:"mt-[4.44vw] flex w-full items-center justify-center",children:i.jsx(Mt,{})});if(!r||!a)return;const{images:o,name:d,known_for_department:m,birthday:g,combined_credits:l}=r,{profiles:x}=o,{cast:v}=l,h=(()=>{const c=[];if(c.push(St(m)),!g)c.push("-ë…„","-ì„¸");else{const f=g.substring(0,4),u=(new Date().getUTCFullYear()-parseInt(g.substring(0,4))).toString();c.push(f+"ë…„",u+"ì„¸")}return c})();return i.jsxs(C.div,{...H,className:"overflow-hidden",children:[i.jsxs("div",{className:" absolute left-[3.33vw] top-[6.66vw] flex flex-row gap-[1.11vw]",children:[i.jsx(Ct,{onClick:()=>e(),fill:"black"}),i.jsx(jt,{to:"/",children:i.jsx(bt,{})})]}),i.jsx(Zt,{viewport:document.documentElement,profiles:x.map(({file_path:c})=>c)}),i.jsxs("div",{className:"mx-auto mt-[4.44vw] flex w-fit flex-col place-content-center place-items-center",children:[i.jsx("p",{className:" text-center text-[7.77vw] font-bold",children:d}),i.jsx(Et,{textList:h})]}),i.jsxs("div",{className:" mx-[3.33vw] my-[13.33vw]",children:[v.length===0&&i.jsx("p",{className:"text-center text-[3.33vw]",children:"ìž‘í’ˆ ì •ë³´ê°€ ì¡´ìž¬í•˜ì§€ ì•Šì•„ìš”ðŸ˜¢"}),i.jsx("div",{className:"grid grid-cols-2 gap-[4.44vw]",children:v.map(c=>{const{id:f,media_type:u}=c;return i.jsx(Nt,{mediaType:u,contentDetail:c,onTap:()=>t(`/${u}/${f}`),cardType:"medium"},f)})})]})]})},se=S.memo(te);export{se as default};

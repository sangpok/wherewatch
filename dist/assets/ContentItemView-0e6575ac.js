import{R as h,t as d,o as e,N as K,M as $,w as V,x as E,y as S,z as O,q as _,E as L,B as W,I as Y,F as G}from"./index-6a1d5655.js";import{u as U,_ as q,a as z,B as Q,C as H,P as l}from"./useNavigateBack-9017086c.js";import{g as J,a as X,b as Z}from"./tmdb-6129abe1.js";const ee=s=>({flatrate:"ìš”ê¸ˆì œ",rent:"ëŒ€ì—¬",buy:"êµ¬ë§¤",free:"ë¬´ë£Œ"})[s],te=({tabs:s,contents:n})=>{const[o,c]=d.useState(0),m=d.useCallback(r=>c(r),[]);return e.jsxs("div",{className:"flex w-full flex-col",children:[e.jsx("div",{className:"flex w-fit select-none flex-row rounded-[1.11vw] border-[0.27vw]  border-[#F5F5F5]",children:s.map((r,i)=>e.jsx("div",{className:`px-[4.44vw] py-[3.33vw] text-[4.44vw] ${i===o?"bg-[#F5F5F5] font-semibold":"font-medium"}`,onClick:()=>m(i),children:ee(r)},i))}),e.jsx("div",{className:"flex w-full flex-col rounded-[1.11vw] border-[0.27vw] border-[#F5F5F5] p-[4.44vw]",children:n.length!==0&&n[o].map(({icon:r,name:i},u)=>e.jsxs("div",{className:"flex flex-row items-center gap-[3.33vw] py-[1.11vw] ",children:[e.jsx("img",{className:"rounded-full",src:`http://image.tmdb.org/t/p/w45${r}`,alt:i}),e.jsx("p",{className:" font-medium",children:i})]},u))})]})},se=h.memo(te),F=Y,ae=h.memo(({smallType:s,onClick:n})=>e.jsx(K,{to:"/",onClick:n,children:e.jsx($,{smallType:s,fill:"white"})}),(s,n)=>s.smallType===n.smallType),re=({type:s})=>{const n=V(),o=U(),{id:c}=E(),{isLoading:m,data:r}=S(["detail",c],()=>G(s,c)),i=d.useMemo(()=>O,[]),u=d.useCallback(()=>n("/"),[]);if(m)return e.jsx(_.div,{...i,className:"mt-[10vw] flex w-full items-center justify-center",children:e.jsx(q,{})});if(!r)return;const{backdrop_path:g,poster_path:j,title:I,name:M,release_dates:b,content_ratings:N,overview:y,tagline:C,credits:T,videos:A}=r,{cast:p,crew:x}=T,P=(()=>{if(s==="movie"){if(!b)return"ALL";const t=b.results.find(({iso_3166_1:a})=>a==="KR");return t?t.release_dates[0].certification:"ALL"}if(s==="tv"){if(!N)return"ALL";const t=N.results.find(({iso_3166_1:a})=>a==="KR");return t?t.rating:"ALL"}})(),B=(()=>g?F+g:j?F+j:null)(),v=(()=>A.results.find(({iso_3166_1:a,site:w})=>a==="KR"&&w==="YouTube"))(),f=(()=>J(r))(),D=(()=>{if(s==="tv")return X(r);if(s==="movie")return Z(r)})(),k=(t,a,w)=>{const{id:R}=a;return e.jsx(W,{mediaType:"person",contentDetail:a,onTap:()=>n(`/person/${R}`),cardType:"small"},`${t}-${R}-${w}`)};return e.jsxs(_.div,{...i,className:"mb-[8.88vw]",children:[e.jsx(z,{src:B,children:e.jsxs("div",{className:"absolute left-[3.33vw] top-[6.66vw] flex flex-row place-content-center place-items-center gap-[1.11vw] ",children:[e.jsx(Q,{onClick:o}),e.jsx(ae,{smallType:!1,onClick:u})]})}),e.jsxs("div",{className:"mx-[2.22vw]  translate-y-[-4.16vw] space-y-[8.88vw]",children:[e.jsx(H,{title:I||M,watchingRate:P,descriptions:D}),e.jsx(l,{title:"ì œê³µí•˜ëŠ” í”Œëž«í¼",children:f.length===0?e.jsx("p",{className:"text-[4.44vw]",children:"í•œêµ­ì— ì œê³µí•˜ëŠ” í”Œëž«í¼ì´ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ðŸ˜¢"}):e.jsx(se,{tabs:f.map(({type:t})=>t),contents:f.map(({providers:t})=>t)})}),e.jsx(l,{title:"ìž‘í’ˆ ì •ë³´",children:e.jsxs("p",{className:"text-[4.44vw]",children:[y===""&&"ìž‘í’ˆ ì •ë³´ê°€ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ðŸ˜¢",y]})}),C&&e.jsx(l,{title:"íƒœê·¸ ë¼ì¸",children:e.jsx("p",{className:"text-[4.44vw]",children:C})}),v&&e.jsx(l,{title:"ë™ì˜ìƒ",children:e.jsx("iframe",{className:" aspect-video w-full rounded-[1.11vw]",src:`https://www.youtube.com/embed/${v.key}`,title:v.name,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"})}),e.jsxs(l,{title:"ì¶œì—°ì§„",children:[p.length===0&&e.jsx("p",{className:"text-[4.44vw]",children:"ì¶œì—°ì§„ ì •ë³´ê°€ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ðŸ˜¢"}),p.length!==0&&e.jsx(L,{gapType:"large",children:p.map((t,a)=>k("cast",t,a))})]}),e.jsxs(l,{title:"ì œìž‘ì§„",children:[x.length===0&&e.jsx("p",{className:"text-[4.44vw]",children:"ì œìž‘ì§„ ì •ë³´ê°€ ì¡´ìž¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤ðŸ˜¢"}),x.length!==0&&e.jsx(L,{gapType:"large",children:x.map((t,a)=>k("crew",t,a))})]})]})]})},oe=h.memo(re);export{oe as default};
